package gpu force 0 0 0.8 threads_per_atom 1
newton off
units lj
atom_style  ellipsoid

lattice sc 0.02
region  box block 0 10 0 10 0 10
create_box 2 box
create_atoms 1 box
set group all type/fraction 2 0.5 14992

set type 1 mass 1.0
set type 2 mass 1.5
set type 1 shape 0 0 0
set type 2 shape 1 1 3
set type 2 quat/random 982381

compute  rot all temp/asphere
group spheroid type 2
variable dof equal count(spheroid)+3
compute_modify rot extra ${dof}

velocity all create 2.4 41787 loop geom

pair_style resquared/gpu 7.0
pair_coeff  1 1 3.0 1.0 0 0 0 0 0 0
pair_coeff  1 2 3.0 1.0 3.0 3.0 3.0 1.0 1.0 0.2
pair_coeff  2 2 1.0 1.0 1.0 1.0 0.2 1.0 1.0 0.2

neighbor 0.8 bin
neigh_modify delay 4 every 4

timestep 0.002
thermo 100

fix  1 all npt/asphere temp 2.4 2.4 0.5 iso 0.0 8.0 0.5
compute_modify 1_temp extra ${dof}
run 400

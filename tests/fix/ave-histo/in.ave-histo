boundary p fs p

lattice fcc 1.0
region box block 0 6 -1.1 8.1 0 6
create_box 2 box
create_atoms 1 box

mass * 1.0
pair_style lj/cut 2.5
pair_coeff * * 1.0 1.0
neighbor 0.4 multi 
neigh_modify delay 2 exclude type 2 2

region lo block INF INF INF 0.1 INF INF
region hi block INF INF 6.9 INF INF INF
region wall union 2 lo hi
set region wall type 2
group hi region hi
group liq type 1

compute Tliq liq temp
fix 1 liq nvt temp 0.73 0.73 0.5
fix_modify 1 temp Tliq

fix 2 hi aveforce NULL -0.004 NULL
fix 3 hi setforce 0.0 NULL 0.0
fix 4 hi nve

#dump 1 all atom 1000 dump.lammpstrj

velocity liq create 2.19 73528 dist gaussian rot yes
thermo 500
run 2000

fix 5 liq ave/histo 1000 1 1000 -3.0 3.0 30 vx vy vz mode vector file histo-ve.dat
compute ekinatom liq ke/atom
fix 6 liq ave/histo 1000 1 1000 0.0 10.0 30 c_ekinatom mode vector file histo-ke.dat

run 10000
